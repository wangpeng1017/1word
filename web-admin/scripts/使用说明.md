# 初始化50个测试单词 - 使用说明

## 方法一：通过 Vercel 部署自动执行（推荐）

1. **添加初始化API接口**（最简单）
   
   访问：`https://11word.vercel.app/api/init-data`
   
   该接口会自动执行数据初始化。

2. **或者手动运行脚本**
   
   如果你有数据库连接字符串，可以本地运行。

---

## 方法二：本地运行脚本

### 步骤 1：配置数据库连接

在 `web-admin/.env` 文件中设置正确的 `DATABASE_URL`：

```env
DATABASE_URL="你的Vercel Postgres连接字符串"
```

### 步骤 2：运行初始化脚本

```bash
cd E:\trae\1单词\web-admin
node scripts/init-test-data.js
```

### 步骤 3：查看输出

成功后会显示：

```
✅ 成功创建: 50 个单词
📝 每个单词包含 4 种题型：
   - 英译中 (ENGLISH_TO_CHINESE)
   - 中译英 (CHINESE_TO_ENGLISH)
   - 听力题 (LISTENING)
   - 填空题 (FILL_IN_BLANK)

🎯 现在可以在小程序中测试完整流程了！
   学号: 2025001
   密码: 123456
```

---

## 包含的50个常用单词

### 名词 (18个)
apple, book, cat, dog, egg, fish, ice, moon, pen, sun, tree, water, zoo

### 形容词 (20个)
good, happy, kind, nice, old, quiet, big, small, new, hot, cold, fast, slow, tall, short, long, yellow

### 动词 (11个)
jump, love, run, read, write, speak, listen, watch, play, work, study, learn, teach, help, find, think, know, understand

### 其他 (1个)
under, very

---

## 每个单词包含的数据

### 1. 基础信息
- 单词 (word)
- 中文释义 (primaryMeaning)
- 音标 (phonetic)
- 词性 (partOfSpeech)
- 难度：EASY
- 高频标记：true

### 2. 四种题型

#### 英译中 (ENGLISH_TO_CHINESE)
- 题目：英文单词
- 选项：4个中文释义（1个正确 + 3个干扰项）

#### 中译英 (CHINESE_TO_ENGLISH)
- 题目：中文释义
- 选项：4个英文单词（1个正确 + 3个干扰项）

#### 听力题 (LISTENING)
- 题目：听音选词
- 选项：4个英文单词（1个正确 + 3个干扰项）
- 注：需要后续添加音频URL

#### 填空题 (FILL_IN_BLANK)
- 题目：英文句子（包含空白）
- 选项：4个英文单词（1个正确 + 3个干扰项）
- 示例：`I eat an _____ every day.` (答案: apple)

### 3. 学习任务
- 为学生创建学习计划 (StudyPlan)
- 为学生创建今日任务 (DailyTask)

---

## 测试流程

### 1. 登录小程序
- 学号：`2025001`
- 密码：`123456`

### 2. 进入"今日复习"
- 应该看到50个待复习的单词

### 3. 开始答题
- 随机出现4种题型之一
- 测试答对/答错的不同反馈
- 测试进度条和计时器
- 测试统计功能

### 4. 完成测试
- 查看结果页面
- 查看学习数据统计

---

## 常见问题

### Q1: 脚本运行失败？
**A**: 检查：
- `.env` 中的 `DATABASE_URL` 是否正确
- 网络连接是否正常
- 是否已安装依赖 `npm install`

### Q2: 找不到学生账号？
**A**: 确保已经创建了学号为 `2025001` 的学生账号。

### Q3: 单词已存在？
**A**: 脚本会自动跳过已存在的单词，不会重复创建。

### Q4: 想要清空重新初始化？
**A**: 在数据库中执行：
```sql
-- 谨慎操作！这会删除所有数据
DELETE FROM daily_tasks;
DELETE FROM study_plans;
DELETE FROM question_options;
DELETE FROM questions;
DELETE FROM vocabularies;
```

---

## 下一步

1. ✅ 运行初始化脚本
2. ✅ 登录小程序测试
3. ⏳ 根据测试反馈优化
4. ⏳ 添加更多单词
5. ⏳ 准备音频资源
