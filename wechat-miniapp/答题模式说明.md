# 答题模式说明

## 四种答题模式

### 选择题模式1：英文单词 + 4个中文释义选项
**题型代码**: `ENGLISH_TO_CHINESE`

**显示内容**:
- 题目区：显示英文单词（大号字体）
- 提示：请选择正确的中文释义
- 选项区：4个中文释义选项（单选）

**答题流程**:
1. 用户点击选择选项
2. 点击"提交答案"按钮
3. 判断对错：
   - ✅ **正确**：显示"✓ 回答正确！"，1.5秒后自动进入下一题
   - ❌ **错误**：显示"✗ 答错了"和正确答案，显示"继续"按钮，手动点击后进入下一题

---

### 选择题模式2：汉语 + 4个英文单词选项
**题型代码**: `CHINESE_TO_ENGLISH`

**显示内容**:
- 题目区：显示中文释义（大号字体）
- 提示：请选择正确的英文单词
- 选项区：4个英文单词选项（单选）

**答题流程**:
1. 用户点击选择选项
2. 点击"提交答案"按钮
3. 判断对错：
   - ✅ **正确**：显示"✓ 回答正确！"，1.5秒后自动进入下一题
   - ❌ **错误**：显示"✗ 答错了"和正确答案，显示"继续"按钮，手动点击后进入下一题

---

### 选择题模式3：英文单词读音 + 4个英文单词选项
**题型代码**: `LISTENING`

**显示内容**:
- 题目区：显示音频播放图标 🔊（可点击重复播放）
- 提示：听音选词
- 选项区：4个英文单词选项（单选）

**答题流程**:
1. 页面加载时自动播放单词读音（或用户点击音频图标播放）
2. 用户点击选择选项
3. 点击"提交答案"按钮
4. 判断对错：
   - ✅ **正确**：显示"✓ 回答正确！"，1.5秒后自动进入下一题
   - ❌ **错误**：显示"✗ 答错了"和正确答案，显示"继续"按钮，手动点击后进入下一题

**注意**:
- 需要后端提供单词的音频URL
- 或使用TTS（文本转语音）服务生成音频

---

### 选择题模式4：选词填空
**题型代码**: `FILL_IN_BLANK`

**显示内容**:
- 题目区：显示完整英文句子，其中某个英文单词用下划线或空白替换
- 提示：选择正确的单词填空
- 选项区：4个英文单词选项（单选），从给出的4个英文单词选项中选择其一进行填空

**答题流程**:
1. 用户阅读句子，理解上下文
2. 用户点击选择选项
3. 点击"提交答案"按钮
4. 判断对错：
   - ✅ **正确**：显示"✓ 回答正确！"，1.5秒后自动进入下一题
   - ❌ **错误**：显示"✗ 答错了"和正确答案，显示"继续"按钮，手动点击后进入下一题

**示例**:
```
句子：She is very _____ about her success.
选项：
A. happy
B. sad
C. angry
D. tired
```

---

## 通用功能

### 顶部信息栏
- **当前单词进度**：第 X/X 个
- **已用时**：实时计时器（MM:SS格式）
- **退出按钮**：点击后弹出确认对话框，保存进度并退出

### 趣味进度条
- 彩色渐变进度条（紫色 → 粉红色）
- 🚀 火箭表情符号跟随进度移动
- 平滑动画效果

### 答题反馈
**正确时**:
- 显示大号绿色 ✓
- 提示文字："回答正确！"
- 显示单词释义
- 1.5秒后自动进入下一题

**错误时**:
- 显示大号红色 ✗
- 提示文字："答错了"
- 显示正确答案（红色高亮）
- 显示单词释义
- 显示"继续"按钮（绿色），手动点击后进入下一题

### 统计信息
底部显示：
- ✅ 正确数量（绿色）
- ❌ 错误数量（红色）

---

## 题型数据结构

```javascript
// Question 对象结构
{
  id: "question_id",
  type: "ENGLISH_TO_CHINESE" | "CHINESE_TO_ENGLISH" | "LISTENING" | "FILL_IN_BLANK",
  correctAnswer: "正确答案",
  sentence: "句子内容（仅填空题）",
  options: [
    { id: "option_1", content: "选项内容" },
    { id: "option_2", content: "选项内容" },
    { id: "option_3", content: "选项内容" },
    { id: "option_4", content: "选项内容" }
  ]
}

// Vocabulary 对象结构
{
  word: "单词",
  primaryMeaning: "主要释义",
  secondaryMeaning: "次要释义（可选）",
  phonetic: "音标（可选）",
  partOfSpeech: ["词性数组"],
  audioUrl: "音频URL（听力题必需）",
  questions: [Question]
}
```

---

## 实现状态

### ✅ 已完成
- [x] 模式1：英文单词 + 4个中文释义选项
- [x] 模式2：汉语 + 4个英文单词选项
- [x] 模式3：英文单词读音 + 4个英文单词选项（界面已完成，需要音频资源）
- [x] 模式4：选词填空
- [x] 正确自动进入下一题
- [x] 错误显示继续按钮
- [x] 实时计时器
- [x] 趣味进度条
- [x] 答题统计

### ⚠️ 待完善
- [ ] 听力题音频资源（需要后端提供audioUrl或TTS服务）
- [ ] 填空题的句子资源（需要后端在Question中提供sentence字段）

---

## 后端数据需求

### 听力题（LISTENING）
需要在 Vocabulary 表中添加：
```sql
ALTER TABLE vocabulary ADD COLUMN audio_url VARCHAR(255);
```

### 填空题（FILL_IN_BLANK）
需要在 Question 表中添加：
```sql
ALTER TABLE question ADD COLUMN sentence TEXT;
```

或使用现有的例句（Example表）生成填空题。
