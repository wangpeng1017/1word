# 智能词汇复习助手 - 微信小程序

## 如何测试小程序

### 方式1：使用微信开发者工具（推荐）

#### 1. 下载微信开发者工具
- 访问 [微信开发者工具下载页](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- 下载并安装对应系统版本

#### 2. 导入项目
1. 打开微信开发者工具
2. 点击"+"号，选择"导入项目"
3. 项目目录选择：`e:\trae\1单词\wechat-miniapp`
4. AppID选择：
   - **测试阶段**：选择"测试号"或"使用测试号"
   - **正式开发**：填入你的小程序AppID

#### 3. 配置后端地址
编辑 `app.js` 文件，修改API地址：
```javascript
globalData: {
  apiUrl: 'https://你的vercel域名.vercel.app/api', // 改为你的Vercel部署地址
}
```

#### 4. 编译运行
1. 点击工具栏的"编译"按钮
2. 在模拟器中查看效果
3. 可以在"调试器"中查看console日志

#### 5. 真机测试
1. 点击工具栏的"预览"按钮
2. 使用微信扫描二维码
3. 在手机上测试小程序

### 方式2：使用微信开发者工具的云端调试

如果不想安装开发者工具，可以使用微信的云端调试功能（需要小程序账号）。

## 测试账号

在Web后台创建测试学生账号后，使用以下信息登录：

```
学号：创建时设置的学号
密码：默认 123456（或创建时设置的密码）
```

## 当前可测试的功能

### ✅ 已完成
- 登录页面
- 首页展示
- 学习统计
- 未完成复习提示

### 🚧 开发中
- 答题功能
- 错题本
- 个人中心

## 开发调试技巧

### 1. 查看网络请求
在微信开发者工具的"Network"标签中可以查看所有网络请求

### 2. 查看Storage
在"Storage"标签中可以查看本地存储的数据

### 3. 清除缓存
开发 → 清除缓存 → 清除数据缓存

### 4. 模拟网络状态
在"Network"标签中可以模拟弱网、离线等状态

## 注意事项

### 1. 域名配置
正式发布前需要在微信公众平台配置服务器域名：
- 登录 [微信公众平台](https://mp.weixin.qq.com)
- 开发 → 开发管理 → 服务器域名
- 添加你的Vercel域名（必须是https）

### 2. 跨域问题
微信小程序不存在跨域问题，但需要配置合法域名

### 3. 本地开发
如果要连接本地后端（localhost），需要：
1. 在开发者工具中勾选"不校验合法域名"
2. 修改`app.js`中的`apiUrl`为`http://localhost:3000/api`

## 常见问题

### Q: 提示"不在以下request合法域名列表中"
A: 开发阶段在微信开发者工具中勾选"不校验合法域名、web-view域名、TLS版本以及HTTPS证书"

### Q: 登录失败
A: 
1. 检查后端是否正常运行
2. 检查`app.js`中的`apiUrl`是否正确
3. 在Network标签查看请求详情

### Q: 页面空白
A: 
1. 查看Console是否有错误
2. 检查页面路径是否正确
3. 确认app.json中已注册该页面

## 项目结构

```
wechat-miniapp/
├── pages/              # 页面
│   ├── index/         # 首页
│   ├── login/         # 登录页
│   ├── study/         # 答题页（开发中）
│   ├── wrong/         # 错题本（开发中）
│   └── profile/       # 个人中心（开发中）
├── utils/             # 工具函数
│   ├── request.js     # 网络请求
│   ├── storage.js     # 本地存储
│   └── util.js        # 通用工具
├── images/            # 图片资源
├── app.js             # 小程序入口
├── app.json           # 小程序配置
└── app.wxss           # 全局样式
```
