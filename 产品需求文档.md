### **产品需求文档 (PRD): 智能词汇复习助手**

**V1.0**

#### **1. 项目概述**

**1.1. 项目背景与目标**
本项目旨在为上海地区的高中生提供一个基于艾宾浩斯遗忘曲线等记忆算法的智能词汇复大习工具。通过微信小程序方便学生随时随地进行学习，同时提供一个功能强大的 Web 管理后台，供教师进行教学管理、学情跟踪和内容维护。

项目目标是：
*   **提升学习效率**：通过智能化、个性化的复习计划，帮助学生高效记忆单词。
*   **减轻教师负担**：通过数据化、自动化的学情分析与导出功能，方便教师掌握学生学习情况。
*   **实现无缝学习**：支持离线模式，保证学生在各种网络环境下都能完成学习任务。

**1.2. 目标用户**
*   **学生（用户端）**：上海地区的高中生，希望通过手机方便地复习和巩固英语词汇。
*   **教师（管理端）**：高中英语教师，需要管理班级学生的词汇学习进度，并调整教学内容。

---

#### **2. 系统架构与技术选型**

**2.1. 系统架构**
本项目分为三个核心部分：
1.  **微信小程序（移动端）**：面向学生用户，提供核心的单词复习、错题回顾和学习数据查看功能。
2.  **Web 管理后台（PC 端）**：面向教师用户，用于词库维护、学生管理、教学规则配置和数据导出。
3.  **云端服务器与数据库**：负责处理业务逻辑、数据存储与 API 服务。

**2.2. 技术选型建议**
考虑到您将使用 AI 编程工具（如 Cursor）且编程经验较少，我推荐一个现代化、社区活跃且对初学者友好的技术栈：

*   **移动端 (微信小程序)**:
    *   **语言与框架**: 直接使用微信小程序原生开发（WXML + WXSS + JavaScript）。这能 100% 保证所有功能（如音频播放、本地存储、UI 交互）的兼容性和性能。AI 工具对原生小程序的支持也非常好。
    *   **可行性评估**: 您在图片中提到的所有小程序功能，包括离线模式、实时进度保存、多种答题模式、音频播放等，均可在微信小程序环境中**完美实现**。

*   **Web 管理后台 (教师端)**:
    *   **前端框架**: **Next.js (基于 React)**。这是一个非常强大的框架，对 Vercel 部署支持完美，AI 工具对 React 的代码生成能力极强。其文件路由系统也简单直观。
    *   **UI 组件库**: **Ant Design** 或 **MUI**。这些库提供了大量预制好的后台管理组件，可以极大加速开发进程。

*   **后端服务**:
    *   **框架**: **Next.js (API Routes)** 或 **NestJS**。
        *   **建议**: 初期为了快速开发和部署在 Vercel 上，可以直接使用 **Next.js 的 API Routes** 功能来编写后端逻辑。这样前后端就在一个项目里，非常方便。
        *   当项目变得复杂，需要更清晰的后端架构时，可以考虑迁移到 **NestJS** (基于 Node.js 和 TypeScript)，它提供了非常规范和可扩展的架构。
    *   **语言**: **TypeScript**。它为 JavaScript 提供了类型安全，能减少很多潜在的 bug，AI 工具也能根据类型信息生成更准确的代码。

*   **数据库**:
    *   **数据库**: **PostgreSQL**。这是一款功能强大且稳定的开源关系型数据库，非常适合存储结构化的用户信息、词汇数据和学习记录。
    *   **ORM**: **Prisma**。这是一个现代化的数据库工具，能让您用 TypeScript 来操作数据库，自动生成类型，与 AI 编程工具配合起来体验极佳。

**2.3. 部署方案**
*   **Demo 阶段**:
    *   **平台**: **Vercel**。
    *   **实施**: 直接将您的 Next.js 项目（包含前端和 API Routes 后端）关联到 Vercel 账户的 Git 仓库。Vercel 会自动完成构建和部署。对于数据库，可以使用 Vercel Postgres 或 Supabase 等提供的免费 PostgreSQL 服务。
*   **生产阶段**:
    *   **平台**: **阿里云**。
    *   **实施**:
        *   **前端/后端服务**: 使用 **ECS (Elastic Compute Service)** 实例或**容器服务 Kubernetes 版 (ACK)** 来部署您的 Next.js/NestJS 应用。
        *   **数据库**: 使用 **RDS (Relational Database Service)** 并选择 PostgreSQL 实例，方便管理、备份和扩展。
        *   **静态资源存储**: 使用 **OSS (Object Storage Service)** 来存储单词的音频文件和图片，减轻服务器压力并加快访问速度。

---

#### **3. 功能需求详述**

**3.1. 词库系统 (Web 后台功能)**

*   **F-1.1: 基础词库管理**
    *   【需求】应能批量导入、新增、修改、删除词库。词库需覆盖上海高中阶段全部考纲词汇。
    *   【亮点】**支持后台配置词库更新**：允许教师动态增减词库，而无需重新发布小程序。

*   **F-1.2: 单词信息维护**
    *   【需求】每个单词条目需包含：英文单词、词性（可多选）、中文释义（区分核心/延伸义）、音标（英/美可选）、真人发音音频（支持上传）、实体图片（支持上传）。
    *   【需求】可标注单词是否为高考高频项。

*   **F-1.3: 配套题目生成与管理**
    *   【需求】系统应支持为每个单词关联至少 3 道“英译汉”选择题。
    *   【需求】每道题包含 1 个正确答案和 3 个干扰项。教师在录入时，应能方便地添加易混淆词义作为干扰项（如 "adapt" vs "adopt"）。

**3.2. 数据记录与导出系统 (核心为 Web 后台功能)**

*   **F-2.1: 学员与班级管理**
    *   【需求】支持批量导入学生名单（姓名、学号），并能将学生分配到不同班级。

*   **F-2.2: 学习数据记录**
    *   【需求】系统需自动记录学生的每一次复习：完成率、正确率、总耗时、开始/结束时间。
    *   【需求】详细记录每一道错题：错误单词、时间、错误选项/内容、正确答案。
    *   【需求】统计每个单词的累计错误次数和最近 3 次复习的正确率。

*   **F-2.3: 数据导出功能**
    *   【需求】支持按学员、班级、时间段筛选数据。
    *   【需求】支持将筛选后的学习报告和错题本批量导出为 Excel (.xlsx)、PDF 和 Word 格式。
    *   【需求】导出内容可按“单词”或“错误次数”排序。
    *   【亮点】**支持后台实现模板更改**：允许管理员自定义导出文件的样式和格式。

**3.3. 智能复习计划系统**

*   **F-3.1: 复习周期逻辑 (后台配置 + 小程序实现)**
    *   【需求】基于记忆算法（如艾宾浩斯曲线），为每个学生自动生成每日复习单词 list。
    *   【需求】新学单词按计划纳入当日复习。

*   **F-3.2: 单词筛选与掌握规则 (后台配置 + 小程序实现)**
    *   【需求】若一个单词连续 3 次复习正确率 100%，则判定为“已掌握”，自动从后续复习流中移除。
    *   【需求】累计错误次数 ≥ 3 次的单词，标记为“重点难点”，优先安排复习。

*   **F-3.3: 个性化调整 (后台功能)**
    *   【亮点】**支持老师后台手动添加、调整**指定学生的每日复习 list。

**3.4. 微信小程序功能**

*   **F-4.1: 核心界面**
    *   【需求】首页布局简洁，仅提供三大入口：“今日复习”、“错题本”、“我的成果”。

*   **F-4.2: 答题模式**
    *   【需求】复习过程中，顶部显示进度（第 X/Y 个）和已用时。中部为题目区，底部为答题区和趣味进度条。
    *   **模式1：英选汉**（英文单词 + 4 个汉语选项）
    *   **模式2：汉选英**（汉语 + 4 个英文单词选项）
    *   **模式3：听音选词**（英文单词读音 + 4 个英文单词选项）
    *   **模式4：选词填空**（英文句子挖空，从 4 个单词中选择）
    *   【交互】选择题点击选项即判断对错。正确则自动进入下一题；错误则显示正确答案，用户需手动点击“继续”。

*   **F-4.3: 进度保存与防误触**
    *   【需求】每答完一题，自动保存当前进度（已答题数、用时、临时错题记录）。
    *   【需求】因故退出（如闪退、切后台）后，重新打开 APP 时弹窗提示“是否继续上次复习？”。选择继续则恢复到退出前的题目界面。
    *   【需求】若上次复习未完成且超过 24 小时（**该时长需支持后台手动设置**），则该次记录记为“中断”，学生可手动选择“补学”。

*   **F-4.4: 离线模式**
    *   【需求】小程序启动时，若有网络，可下载当日复习单词包（含题目、音频等）。
    *   【需求】下载后，在无网络环境下可正常完成复习流程。
    *   【需求】再次联网后，本地学习数据自动同步至服务器。

---

#### **4. 开发路线图 (Roadmap) 建议**

1.  **第一阶段 (MVP - 最小可行产品)**
    *   **目标**: 快速上线核心功能，验证产品价值。
    *   **功能**:
        *   后台：完成词库导入与单词信息维护 (F-1.1, F-1.2)。
        *   后台：实现基础的学生管理 (F-2.1)。
        *   小程序：实现用户登录、每日复习 list 获取。
        *   小程序：实现答题模式 1 和 2 (F-4.2)。
        *   小程序：完成最基础的学习数据记录与展示 (F-2.2, F-4.1 中的“我的成果”)。
    *   **部署**: 全部部署在 Vercel 上。

2.  **第二阶段 (功能完善)**
    *   **目标**: 完善核心体验，增加教师管理能力。
    *   **功能**:
        *   后台：开发数据导出功能 (F-2.3)。
        *   后台：实现智能复习规则配置 (F-3.1, F-3.2)。
        *   后台：实现教师手动调整学生学习计划 (F-3.3)。
        *   小程序：上线答题模式 3 和 4。
        *   小程序：开发错题本功能。
        *   小程序：实现进度保存与异常退出处理 (F-4.3)。

3.  **第三阶段 (高级功能与性能优化)**
    *   **目标**: 提升产品竞争力和用户体验。
    *   **功能**:
        *   小程序：开发并上线离线模式 (F-4.4)。
        *   后台：实现导出模板自定义功能。
        *   全端：UI/UX 优化，增加趣味性元素（如进度条动画）。
    *   **部署**: 准备从 Vercel 迁移至阿里云生产环境。

---

祝您项目开发顺利！这份 PRD 结合了您的需求和技术背景，可以直接作为您使用 AI 编程的指导蓝图。